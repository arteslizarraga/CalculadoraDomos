<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<title>Triángulo con letras bien centradas</title>
<style>
  svg {
    border: 1px solid #ccc;
  }
  text {
    font-size: 18px;
    font-family: Arial, sans-serif;
    font-weight: bold;
  }
</style>
</head>
<body>

  <div id="dibujar-triangulos"></div>

<script>

  var arregloDibujarTriangulos = [{"querySelector":"I-H-I","primeraCara":{"letra":"I","medida":1.4081},"segundaCara":{"letra":"H","medida":1.3998},"terceraCara":{"letra":"I","medida":1.4081}},{"querySelector":"G-H-G","primeraCara":{"letra":"G","medida":1.3384},"segundaCara":{"letra":"H","medida":1.3998},"terceraCara":{"letra":"G","medida":1.3384}},{"querySelector":"D-F-G","primeraCara":{"letra":"D","medida":1.3183},"segundaCara":{"letra":"F","medida":1.2871},"terceraCara":{"letra":"G","medida":1.3384}},{"querySelector":"C-D-E","primeraCara":{"letra":"C","medida":1.1824},"segundaCara":{"letra":"D","medida":1.3183},"terceraCara":{"letra":"E","medida":1.218}},{"querySelector":"C-B-C","primeraCara":{"letra":"C","medida":1.1824},"segundaCara":{"letra":"B","medida":1.2381},"terceraCara":{"letra":"C","medida":1.1824}},{"querySelector":"A-B-A","primeraCara":{"letra":"A","medida":1.0567},"segundaCara":{"letra":"B","medida":1.2381},"terceraCara":{"letra":"A","medida":1.0567}}];

  document.querySelector("#dibujar-triangulos").innerHTML = `<table border="2">
    ${arregloDibujarTriangulos.map(x => 
    {
      return `<tr><td><svg id="${x.querySelector}" width="300" height="300"></svg></td></tr>`;
    }).join("")}
  </table>`;

  arregloDibujarTriangulos.forEach(x => dibujarTriangulo(x));

  // var USAR_ESTO = {
  //   querySelector: "I-H-I",
  //   primeraCara: { medida: 1.4081, letra: "I" },
  //   segundaCara: { medida: 1.4081, letra: "I" },
  //   terceraCara: { medida: 1.3998, letra: "H" }
  // };

  // dibujarTriangulo(USAR_ESTO);

  function dibujarTriangulo(objeto)
  {
    console.log(objeto);

    const primeraCara = objeto.primeraCara;
    const segundaCara = objeto.segundaCara;
    const terceraCara = objeto.terceraCara;

    const escala = 150;

    const A = primeraCara.medida * escala;
    const B = segundaCara.medida * escala;
    const C = terceraCara.medida * escala;

    // Vértices
    const x1 = 50, y1 = 250;
    const x2 = x1 + C, y2 = y1;

    const altura = Math.sqrt(A*A - (C/2)*(C/2));
    const x3 = x1 + C / 2, y3 = y1 - altura;

    // Centroide
    const cx = (x1 + x2 + x3) / 3;
    const cy = (y1 + y2 + y3) / 3;

    // Función: punto medio empujado hacia el centro
    function letraEnLado(xa, ya, xb, yb, texto) {
      const mx = (xa + xb) / 2;
      const my = (ya + yb) / 2;

      const factor = 0.2; // qué tanto se mueve hacia adentro

      const lx = mx + (cx - mx) * factor;
      const ly = my + (cy - my) * factor;

      return `<text x="${lx}" y="${ly}" text-anchor="middle">${texto}</text>`;
    }

    const svg = document.getElementById(objeto.querySelector);

    svg.innerHTML = `
      <polygon
        points="${x1},${y1} ${x2},${y2} ${x3},${y3}"
        fill="none"
        stroke="black"
        stroke-width="2"
      />

      ${letraEnLado(x1, y1, x3, y3, primeraCara.letra)}
      ${letraEnLado(x2, y2, x3, y3, segundaCara.letra)}
      ${letraEnLado(x1, y1, x2, y2, terceraCara.letra)}
    `;
  }

</script>

</body>
</html>
